<!DOCTYPE html>    
<head>
    <meta charset="utf-8">
    <title>fabric.js-simple text display</title>
	
	<!-- Get version 1.1.0 of Fabric.js from CDN -->
	<!--
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.all.min.js" ></script>
	-->
	<script src ="http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.min.js" ></script>
 
	<!-- Get the highest 1.X version of jQuery from CDN. Required for ready() function. -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script> 
 
<body>
		<!-- A canvas tag is required or 
			 Fabric.js doesn't know where to draw. -->
		<canvas id="c" style="border:1px solid black;" width="800" height="600"></canvas>
</body>
 
<script>
	// Place script tags at the bottom of the page.
	// That way progressive page rendering and 
	// downloads are not blocked.
 
	// Run only when HTML is loaded and 
	// DOM properly initialized (courtesy jquery)
	$(function () {
		var canvas = new fabric.Canvas('c');
		// Obtain a canvas drawing surface from fabric.js
		
		
		  
		  
		
 
		/*var group = new fabric.Group([ ], {
	      left: 0,
	      top: 0
	    });*/
		
		
	    //canvas.add(group);
		
		fabric.Image.fromURL('bg.png', function(oImg) {
		 oImg.width = 600;
		 oImg.height = 400;
          canvas.add(oImg);
		  canvas.sendToBack(oImg);

          });
		
		
		
		
		
		  
		  
var hi = new fabric.IText('hello, world.', {
			left: 600,
			top: 400		
		});
	
		//group.add(hi);
		
		canvas.add(hi);
		
		//canvas.clear();

 

// add red rectangl

canvas.add(new fabric.Rect({

  width: 50, height: 50, left: 50, top: 50, fill: 'rgb(255,0,0)'

}));

 

canvas.add(new fabric.Rect({

  width: 50, height: 50, left: 110, top: 50, fill: 'rgb(255,0,0)'

}));

 fabric.Image.fromURL('bird.png', function(osmall) {
		// oImg.width = 600;
		 //oImg.height = 400;
          canvas.add(osmall);

          });

var group = new fabric.Group([

  canvas.item(0).clone(),

  canvas.item(1).clone(),
  
  canvas.item(2).clone(),
  canvas.item(3).clone(),
  canvas.item(4).clone()

]);

 

canvas.clear().renderAll();

canvas.add(group);

 

// move group, rotate group

group.centerH();

group.centerV();

group.rotate(70);

 

// ungrouping is here

var items = group._objects;

group._restoreObjectsState();

canvas.remove(group);

for(var i = 0; i < items.length; i++) {

  canvas.add(items[i]);

}

 



var el = document.getElementById('c');

var ctx = canvas.getContext('2d');
var isDrawing;

el.onmousedown = function(e) {
  isDrawing = true;
  ctx.moveTo(e.clientX, e.clientY);
};
el.onmousemove = function(e) {
  if (isDrawing) {
    ctx.lineTo(e.clientX, e.clientY);
    ctx.stroke();
  }
};
el.onmouseup = function() {
  isDrawing = false;
};

canvas.renderAll();
				
	});
</script>
		
</head>
 
 
</html>

